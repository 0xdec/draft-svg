/*draft-svg v0.2.0 | http://draft.D1SC0te.ch | MIT license*/
"use strict";!function(){draft.View.mixin({svg:function t(e,r){var i=this,a=function(t){return draft.types.length(t.prop("width")).valueOf()},n=function(t){return draft.types.length(t.prop("height")).valueOf()},s=function(t){return draft.types.length(t.prop("x")||0)-a(t)/2},h=function(t){return-draft.types.length(t.prop("y")||0)-n(t)/2},o=this.doc.domID+":"+this.domID+":svg",c=function(t){return o+":"+t.domID},u=function(t){return document.getElementByID(c(t))};if(this._svgMaxWidth=e||this._svgMaxWidth||a(this),this._svgMaxHeight=r||this._svgMaxHeight||n(this),void 0===this._svg){var g,t,f;!function(){var e="http://www.w3.org/2000/svg",r="1.1";g=function(t){var r,i=document.createElementNS(e,t.type),a=function(t,e){t=t.replace(".color","").replace(".","-");var r=/^(fill|stroke)(-opacity)?$/,a=/^stroke-(width)?$/;(r.test(t)||a.test(t))&&i.setAttribute(t,e)},n=function(){t.on("change",a);for(var e=arguments.length,r=Array(e),i=0;e>i;i++)r[i]=arguments[i];var n=!0,s=!1,h=void 0;try{for(var o,c=r[Symbol.iterator]();!(n=(o=c.next()).done);n=!0)for(var u=o.value,g=["color","opacity","width"],f=0;f<g.length;f++){var l=g[f];l=u+"."+l;var d=t.prop(l)||draft.defaults[l];a(l,d)}}catch(v){s=!0,h=v}finally{try{!n&&c["return"]&&c["return"]()}finally{if(s)throw h}}};switch(t.type){case"group":i=document.createElementNS(e,"g");var o=!0,f=!1,l=void 0;try{for(var d,v=t.children[Symbol.iterator]();!(o=(d=v.next()).done);o=!0){var p=d.value,y=g(p);y&&i.appendChild(y)}}catch(m){f=!0,l=m}finally{try{!o&&v["return"]&&v["return"]()}finally{if(f)throw l}}t.on("add",function(t){var e=g(t);e&&i.appendChild(e)}),t.on("remove",function(t){i.removeChild(u(t))});case"rect":n("fill","stroke"),r=function(t,e){switch(t){case"width":i.setAttribute("width",e);case"x":i.setAttribute("x",s(this.target));break;case"height":i.setAttribute("height",e);case"y":i.setAttribute("y",h(this.target))}};break;case"circle":n("fill","stroke"),r=function(t,e){switch(t){case"r":i.setAttribute("r",e);break;case"x":i.setAttribute("cx",e);break;case"y":i.setAttribute("cy",-e)}}}if("function"==typeof r){i.id=c(t);for(var b in t.prop())r.apply({target:t},[b,t.prop(b)]);return t.on("change",r),i}},t=i._svg=document.createElementNS(e,"svg"),t.setAttribute("xmlns",e),t.setAttribute("version",r),t.id=c(i),f=function(e){if("width"===e||"height"===e){var r=a(this.target),i=n(this.target);t.setAttribute("viewBox",[s(this.target),h(this.target),r,i].join(" "));var o=Math.min(draft.types.length(this.target._svgMaxWidth)/r,draft.types.length(this.target._svgMaxHeight)/i),c=r*o,u=i*o;this.target._svg.setAttribute("width",c),this.target._svg.setAttribute("height",u)}},f.apply({target:i},["width"]),f.apply({target:i},["height"]),i.on("change",f),t.appendChild(g(i.parent))}()}return this._svg}})}();
//# sourceMappingURL=draft-svg.min.js.map
