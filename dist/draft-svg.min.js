/*draft-svg v0.1.1 | http://draft.D1SC0te.ch | MIT license*/
"use strict";!function(){draft.View.mixin({svg:function t(e,r){var i=this;if(this._svgMaxWidth=e||this._svgMaxWidth||this.width(),this._svgMaxHeight=r||this._svgMaxHeight||this.height(),void 0===this._svg){var a,n,h,s,o,c,t,g;!function(){var e="http://www.w3.org/2000/svg",r="1.1";a=function(t){return draft.px(t.prop("x"))-t.width()/2},n=function(t){return-draft.px(t.prop("y"))-t.height()/2},h=i.doc.domID+":"+i.domID+":svg",s=function(t){return h+":"+t.domID},o=function(t){return document.getElementByID(s(t))},c=function(t){var r,i=document.createElementNS(e,t.type),h=function(t,e){t=t.replace(".color","").replace(".","-");var r=/^(fill|stroke)(-opacity)?$/,a=/^stroke-(width)?$/;(r.test(t)||a.test(t))&&i.setAttribute(t,e)},g=function(){t.on("change",h);for(var e=arguments.length,r=Array(e),i=0;e>i;i++)r[i]=arguments[i];var a=!0,n=!1,s=void 0;try{for(var o,c=r[Symbol.iterator]();!(a=(o=c.next()).done);a=!0)for(var g=o.value,u=["color","opacity","width"],d=0;d<u.length;d++){var f=u[d];f=g+"."+f;var v=t.prop(f)||draft.defaults[f];h.apply({target:t},[f,v])}}catch(l){n=!0,s=l}finally{try{!a&&c["return"]&&c["return"]()}finally{if(n)throw s}}};switch(t.type){case"group":i=document.createElementNS(e,"g");var u=!0,d=!1,f=void 0;try{for(var v,l=t.children[Symbol.iterator]();!(u=(v=l.next()).done);u=!0){var p=v.value,y=c(p);y&&i.appendChild(y)}}catch(w){d=!0,f=w}finally{try{!u&&l["return"]&&l["return"]()}finally{if(d)throw f}}t.on("add",function(t){var e=c(t);e&&i.appendChild(e)}),t.on("remove",function(t){i.removeChild(o(t))});case"rect":g("fill","stroke"),r=function(t,e){switch(e=draft.px(e),t){case"width":i.setAttribute("width",e);case"x":i.setAttribute("x",a(this.target));break;case"height":i.setAttribute("height",e);case"y":i.setAttribute("y",n(this.target))}};break;case"circle":g("fill","stroke"),r=function(t,e){switch(e=draft.px(e),t){case"r":i.setAttribute("r",e);break;case"x":i.setAttribute("cx",e);break;case"y":i.setAttribute("cy",-e)}}}if("function"==typeof r){i.id=s(t);for(var x in t.prop())r.apply({target:t},[x,t.prop(x)]);return t.on("change",r),i}},t=i._svg=document.createElementNS(e,"svg"),t.setAttribute("xmlns",e),t.setAttribute("version",r),t.id=s(i),g=function(e){if("width"===e||"height"===e){t.setAttribute("viewBox",[a(this.target),n(this.target),this.target.width(),this.target.height()].join(" "));var r=Math.min(draft.px(this.target._svgMaxWidth)/this.target.width(),draft.px(this.target._svgMaxHeight)/this.target.height()),i=this.target.width()*r,h=this.target.height()*r;this.target._svg.setAttribute("width",i),this.target._svg.setAttribute("height",h)}},g.apply({target:i},["width"]),g.apply({target:i},["height"]),i.on("change",g),t.appendChild(c(i.parent))}()}return this._svg}})}();
//# sourceMappingURL=draft-svg.min.js.map
